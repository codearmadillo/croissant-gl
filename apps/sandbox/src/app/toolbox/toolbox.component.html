<section class="slim-scrollbar absolute left-0 top-0 w-full h-full p-3 overflow-y-scroll">

  <webgl2-foldable-section title="Tools" [open]="true">
    <button class="button w-full" (click)="printDebugInformation()">Print debug information</button>
  </webgl2-foldable-section>

  <webgl2-foldable-section title="Scene" [open]="getUiModel('lightOpen')" (openStateChanged)="setUiModel('lightOpen', $event); uiModelChanged()">
    <section class="mb-8">
      <webgl2-range-input fieldName="light_x" label="Light X position" [min]="-100" [max]="100" [step]="1" [(ngModel)]="light_x" (ngModelChange)="onSceneLightChanged()"></webgl2-range-input>
      <webgl2-range-input fieldName="light_y" label="Light Y position" [min]="10" [max]="200" [step]="1" [(ngModel)]="light_y" (ngModelChange)="onSceneLightChanged()"></webgl2-range-input>
      <webgl2-range-input fieldName="light_z" label="Light Z position" [min]="-100" [max]="100" [step]="1" [(ngModel)]="light_z" (ngModelChange)="onSceneLightChanged()"></webgl2-range-input>
    </section>
    <section>
      <webgl2-range-input fieldName="light_r" label="Light color R" [min]="0" [max]="255" [step]="1" [(ngModel)]="light_r" (ngModelChange)="onSceneLightChanged()"></webgl2-range-input>
      <webgl2-range-input fieldName="light_g" label="Light color G" [min]="0" [max]="255" [step]="1" [(ngModel)]="light_g" (ngModelChange)="onSceneLightChanged()"></webgl2-range-input>
      <webgl2-range-input fieldName="light_b" label="Light color B" [min]="0" [max]="255" [step]="1" [(ngModel)]="light_b" (ngModelChange)="onSceneLightChanged()"></webgl2-range-input>
    </section>
    <section class="mb-8">

    </section>
  </webgl2-foldable-section>

  <webgl2-foldable-section title="Scene" [open]="getUiModel('sceneOpen')" (openStateChanged)="setUiModel('sceneOpen', $event); uiModelChanged()">
    <section>
      <webgl2-toggle name="scene_xzAxis" [(ngModel)]="scene_xzAxis" (ngModelChange)="onSceneAxisUpdate()">Show XZ plane</webgl2-toggle>
      <webgl2-toggle name="scene_xyAxis" [(ngModel)]="scene_xyAxis" (ngModelChange)="onSceneAxisUpdate()">Show XY plane</webgl2-toggle>
      <webgl2-toggle name="scene_yzAxis" [(ngModel)]="scene_yzAxis" (ngModelChange)="onSceneAxisUpdate()">Show YZ plane</webgl2-toggle>
    </section>
  </webgl2-foldable-section>

  <webgl2-foldable-section title="Camera" [open]="getUiModel('cameraOpen')" (openStateChanged)="setUiModel('cameraOpen', $event); uiModelChanged()">
    <section class="mt-3 mb-4">
      <webgl2-toggle name="camera_perspective" [ngModel]="getModel('camera_perspective')" (ngModelChange)="setModel('camera_perspective', $event ? 1 : 0); modelChanged('camera_perspective')">Perspective mode</webgl2-toggle>
    </section>

    <section class="mb-8">
      <webgl2-range-input fieldName="camera_distance" label="Distance" [min]="10" [max]="300" [step]="1" [ngModel]="getModel('camera_distance')" (ngModelChange)="setModel('camera_distance', $event); modelChanged('camera_distance')"></webgl2-range-input>
      <webgl2-range-input fieldName="camera_orbit_angle" label="Orbit angle" [min]="0" [max]="359" [step]="0.1" [ngModel]="getModel('camera_orbit_angle')" (ngModelChange)="setModel('camera_orbit_angle', $event); modelChanged('camera_orbit_angle')"></webgl2-range-input>
      <webgl2-range-input fieldName="camera_height" label="Height" [min]="10" [max]="100" [step]="1" [ngModel]="getModel('camera_height')" (ngModelChange)="setModel('camera_height', $event); modelChanged('camera_height')"></webgl2-range-input>
    </section>

    <section class="mb-8">
      <webgl2-range-input [disabled]="getModel('camera_field_of_view') === 0" fieldName="camera_field_of_view" label="FOV (degrees)" [min]="-359" [max]="359" [step]="1" [ngModel]="getModel('camera_field_of_view')" (ngModelChange)="setModel('camera_field_of_view', $event); modelChanged('camera_field_of_view')"></webgl2-range-input>
      <webgl2-range-input fieldName="camera_near" label="Near" [min]="0" [max]="10" [step]="0.1" [ngModel]="getModel('camera_near')" (ngModelChange)="setModel('camera_near', $event); modelChanged('camera_near')"></webgl2-range-input>
      <webgl2-range-input fieldName="camera_far" label="Far" [min]="-100" [max]="400" [step]="1" [ngModel]="getModel('camera_far')" (ngModelChange)="setModel('camera_far', $event); modelChanged('camera_far')"></webgl2-range-input>
    </section>

    <section class="mb-8">
      <webgl2-range-input fieldName="camera_focalPoint_x" label="Focal point X position" [min]="-400" [max]="400" [step]="1" [ngModel]="getModel('camera_focalPoint_x')" (ngModelChange)="setModel('camera_focalPoint_x', $event); modelChanged('camera_focalPoint_x')"></webgl2-range-input>
      <webgl2-range-input fieldName="camera_focalPoint_y" label="Focal point Y position" [min]="-400" [max]="400" [step]="1" [ngModel]="getModel('camera_focalPoint_y')" (ngModelChange)="setModel('camera_focalPoint_y', $event); modelChanged('camera_focalPoint_y')"></webgl2-range-input>
      <webgl2-range-input fieldName="camera_focalPoint_z" label="Focal point Z position" [min]="-400" [max]="400" [step]="1" [ngModel]="getModel('camera_focalPoint_z')" (ngModelChange)="setModel('camera_focalPoint_z', $event); modelChanged('camera_focalPoint_z')"></webgl2-range-input>
    </section>

    <button class="button w-full" (click)="resetCameraToDefault()">Reset to default</button>
  </webgl2-foldable-section>

  <webgl2-foldable-section title="Objects" [open]="getUiModel('objectsOpen')" (openStateChanged)="setUiModel('objectsOpen', $event); uiModelChanged()">
    <webgl2-foldable-section *ngFor="let object of objectService.objects$ | async" [title]="'Object #' + getObjectId(object)" [open]="true">
      <webgl2-object-editor [object]="object"></webgl2-object-editor>
    </webgl2-foldable-section>
  </webgl2-foldable-section>

</section>
